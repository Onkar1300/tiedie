<!--
Copyright (c) 2023, Cisco Systems, Inc. and/or its affiliates.
All rights reserved.
See LICENSE file in this distribution.
SPDX-License-Identifier: Apache-2.0
-->

{% extends 'layout.html' %}

{% block main %}
    <div id="main">
        <h1>{% block title %}Update device{% endblock %}</h1>
        <form class="col-4" action="{{ url_for('update_device', device_id=device.device_id) }}" method="post">
            <div class="mb-3">
                <label for="displayName" class="form-label">Device Display name</label>
                <input type="text" required class="form-control" id="displayName" name="displayName" placeholder="Device Display name" value="{{ device.display_name }}" />
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="active" name="active" {{ "checked" if device.active }} />
                <label class="form-check-label" for="active">Admin State</label>
            </div>

            <div class="mb-3">
                <label for="deviceMacAddress" class="form-label">Device MAC address</label>
                <input type="text" required class="form-control" id="deviceMacAddress" name="deviceMacAddress" placeholder="Device MAC address" value="{{ device.ble_extension.device_mac_address }}" />
            </div>

            <div class="mb-3">
                <label for="versionSupport" class="form-label">Version Support</label>
                <select class="form-select" multiple name="versionSupport">
                    <option value="4.0" {{ "selected" if "4.0" in (device.ble_extension.version_support) }} >4.0</option>
                    <option value="4.1" {{ "selected" if "4.1" in (device.ble_extension.version_support) }} >4.1</option>
                    <option value="4.2" {{ "selected" if "4.2" in (device.ble_extension.version_support) }} >4.2</option>
                    <option value="5.0" {{ "selected" if "5.0" in (device.ble_extension.version_support) }} >5.0</option>
                    <option value="5.1" {{ "selected" if "5.1" in (device.ble_extension.version_support) }} >5.1</option>
                    <option value="5.2" {{ "selected" if "5.2" in (device.ble_extension.version_support) }} >5.2</option>
                    <option value="5.3" {{ "selected" if "5.3" in (device.ble_extension.version_support) }} >5.3</option>
                </select>
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="isRandom" name="isRandom" {{ "checked" if device.ble_extension.is_random }} />
                <label class="form-check-label" for="isRandom">Random Address</label>
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="mobility" name="mobility" {{ "checked" if device.ble_extension.mobility }} />
                <label class="form-check-label" for="mobility">Mobility</label>
            </div>

            <div class="mb-3">
                <label for="pairingMethod" class="form-label">Pairing Method</label>
                <select class="form-select" name="pairingMethod">
                    <option value="null" {{ "selected" if device.ble_extension.null_pairing }}>None</option>
                    <option value="justWorks" {{ "selected" if device.ble_extension.pairing_just_works }}>Just Works</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</body>
</html>
{% endblock %}